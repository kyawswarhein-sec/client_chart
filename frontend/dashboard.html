<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Client Management Admin Dashboard</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/jpg" href="../assets/pics/favicon.jpg">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="./dashboard.css?v=2.8">
  <!-- UX Improvements -->
  <link rel="stylesheet" href="./ux-improvements.css">
  <!-- UI Improvements -->
  <link rel="stylesheet" href="./ui-improvements.css">
</head>
<body class="keyboard-nav">

  <!-- Skip to main content link for accessibility -->
  <a href="#mainContent" class="skip-link">Skip to main content</a>

  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <!-- Left side - Logo and Hamburger -->
        <div class="logo-section">
          <!-- Hamburger Button for Mobile -->
          <button class="hamburger-btn" id="hamburgerBtn" title="Toggle Sidebar" aria-label="Toggle navigation menu">
            <i class="fas fa-bars"></i>
          </button>
          <div class="logo">
            USIRD, INC.
          </div>
        </div>
        
        <!-- Right side - Admin text and user menu -->
        <div class="header-right">
          <span class="admin-text">Admin</span>
          <div class="user-menu">
            <!-- Theme Toggle Button -->
            <button class="user-btn" id="themeToggle" title="Toggle Dark/Light Mode" aria-label="Toggle dark mode">
              <i class="fas fa-moon" id="themeIcon"></i>
            </button>
            
            <!-- Notification Button -->
            <div class="notification-container">
              <button class="user-btn" id="notificationBtn" title="Notifications" aria-label="View notifications">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notificationBadge" style="display: none;" aria-label="0 unread notifications">0</span>
              </button>
              
              <!-- Notification Dropdown -->
              <div class="notification-dropdown" id="notificationDropdown">
                <div class="notification-header">
                  <h6 class="notification-title">Notifications</h6>
                  <button class="mark-all-read-btn" id="markAllReadBtn" title="Mark all as read" aria-label="Mark all notifications as read">
                    <i class="fas fa-check-double"></i>
                  </button>
                </div>
                <div class="notification-list" id="notificationList">
                                  <div class="no-notifications empty-state">
                  <i class="fas fa-bell-slash"></i>
                  <h3>No notifications</h3>
                  <p>You're all caught up!</p>
                </div>
                </div>
              </div>
            </div>
            
            <button class="user-btn" id="profileBtn" title="Profile" aria-label="Open profile menu">
              <i class="fas fa-user"></i>
            </button>
            
            <!-- Profile Dropdown -->
            <div class="profile-dropdown" id="profileDropdown">
              <div class="profile-header">
                <div class="profile-avatar">
                  <i class="fas fa-user"></i>
                </div>
                <h6 class="profile-name" id="profileName">Admin</h6>
                <p class="profile-role">Administrator</p>
              </div>
              
              <div class="profile-menu">
                <a href="#" class="profile-menu-item">
                  <i class="fas fa-user-cog"></i>
                  Profile Settings
                </a>
                <a href="#" class="profile-menu-item" id="notificationsMenuItem">
                  <i class="fas fa-bell"></i>
                  Notifications
                </a>
                <div class="profile-menu-divider"></div>
                <a href="../backend/logout.php" class="profile-menu-item">
                  <i class="fas fa-sign-out-alt"></i>
                  Logout
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Sidebar Overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h3 class="sidebar-title">Navigation</h3>
    </div>
    <nav class="sidebar-menu">
      <a href="#" class="menu-item active" data-section="dashboard" aria-label="Go to dashboard">
        <i class="fas fa-tachometer-alt"></i>
        Dashboard
      </a>
      <a href="#" class="menu-item" data-section="analytics" aria-label="Go to analytics">
        <i class="fas fa-chart-pie"></i>
        Analytics
      </a>
      <a href="#" class="menu-item" data-section="recent-clients" aria-label="Go to recent clients">
        <i class="fas fa-clock"></i>
        Recent Client
      </a>
      <a href="#" class="menu-item" data-section="all-clients" aria-label="Go to all clients">
        <i class="fas fa-users"></i>
        All Clients
      </a>
      <div class="menu-divider"></div>
      <a href="#" class="menu-item" data-section="add-client" id="sidebarAddClient" aria-label="Add new client">
        <i class="fas fa-user-plus"></i>
        Add Client
      </a>
    </nav>
  </aside>

  <!-- Main Content Area -->
  <main class="main-content" id="mainContent">
    <div class="container">
      
      <!-- Dashboard Section -->
      <div id="dashboard-section" class="content-section active">
        <div class="section-header">
          <h1><i class="fas fa-tachometer-alt me-2"></i>Dashboard Overview</h1>
          <p class="text-muted">Welcome to your client management dashboard</p>
        </div>

        <!-- Dashboard Splitter Layout -->
        <div class="dashboard-splitter">
          <!-- Left Panel - Statistics -->
          <div class="splitter-panel left-panel">
            <div class="panel-header">
              <h5><i class="fas fa-chart-bar me-2"></i>Statistics Overview</h5>
            </div>
            <div class="stats-grid">
              <div class="stat-card bg-primary">
                <div class="stat-icon">
                  <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                  <h3 id="totalClients">0</h3>
                  <p>Total Clients</p>
                </div>
              </div>
              <div class="stat-card bg-success">
                <div class="stat-icon">
                  <i class="fas fa-user-plus"></i>
                </div>
                <div class="stat-content">
                  <h3 id="recentClients">0</h3>
                  <p>Recent Clients</p>
                </div>
              </div>
              <div class="stat-card bg-info">
                <div class="stat-icon">
                  <i class="fas fa-passport"></i>
                </div>
                <div class="stat-content">
                  <h3 id="visaTypes">0</h3>
                  <p>Visa Types</p>
                </div>
              </div>
              <div class="stat-card bg-warning">
                <div class="stat-icon">
                  <i class="fas fa-globe"></i>
                </div>
                <div class="stat-content">
                  <h3 id="locations">0</h3>
                  <p>Locations</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Splitter Handle -->
          <div class="splitter-handle" id="splitterHandle">
            <div class="splitter-line"></div>
          </div>

          <!-- Right Panel - Quick Actions -->
          <div class="splitter-panel right-panel">
            <div class="panel-header">
              <h5><i class="fas fa-bolt me-2"></i>Quick Actions</h5>
            </div>
            <div class="quick-actions">
              <button class="action-btn" data-section="analytics">
                <i class="fas fa-chart-pie"></i>
                <span>View Analytics</span>
              </button>
              <button class="action-btn" data-section="recent-clients">
                <i class="fas fa-clock"></i>
                <span>Recent Clients</span>
              </button>
              <button class="action-btn" data-section="all-clients">
                <i class="fas fa-users"></i>
                <span>All Clients</span>
              </button>
              <button class="action-btn" id="addClientQuick">
                <i class="fas fa-user-plus"></i>
                <span>Add Client</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Analytics Section -->
      <div id="analytics-section" class="content-section">
        <div class="section-header">
          <h1><i class="fas fa-chart-pie me-2"></i>Analytics Dashboard</h1>
          <p class="text-muted">Detailed statistics and data visualization</p>
        </div>

        <!-- Charts Section -->
        <div class="row">
          <!-- Age Distribution Chart -->
          <div class="col-md-4 mb-4">
            <div class="card">
              <div class="card-header text-center bg-light">
                <h6 class="card-title mb-0 font-weight-bold">Age Distribution</h6>
              </div>
              <div class="card-body p-3">
                <div style="height: 250px; position: relative;">
                  <canvas id="ageChart"></canvas>
                </div>
              </div>
            </div>
          </div>

          <!-- Gender Distribution Chart -->
          <div class="col-md-4 mb-4">
            <div class="card">
              <div class="card-header text-center bg-light">
                <h6 class="card-title mb-0 font-weight-bold">Gender Distribution</h6>
              </div>
              <div class="card-body p-3">
                <div style="height: 250px; position: relative;">
                  <canvas id="genderChart"></canvas>
                </div>
              </div>
            </div>
          </div>

          <!-- Visa Type Distribution Chart -->
          <div class="col-md-4 mb-4">
            <div class="card">
              <div class="card-header text-center bg-light">
                <h6 class="card-title mb-0 font-weight-bold">Visa Type Distribution</h6>
              </div>
              <div class="card-body p-3">
                <div style="height: 250px; position: relative;">
                  <canvas id="visaTypeChart"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Clients Section -->
      <div id="recent-clients-section" class="content-section">
        <div class="section-header">
          <h1><i class="fas fa-clock me-2"></i>Recent Clients</h1>
          <p class="text-muted">Latest client registrations and updates</p>
        </div>

        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <h5 class="card-title mb-0">Recent Clients</h5>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Age</th>
                        <th>Gender</th>
                        <th>Location</th>
                        <th>Visa Type</th>
                        <th>Arrival Date</th>
                      </tr>
                    </thead>
                    <tbody id="clientsTableBody">
                      <!-- Recent data will be populated by JavaScript -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- All Clients Section -->
      <div id="all-clients-section" class="content-section">
        <div class="section-header">
          <h1><i class="fas fa-users me-2"></i>All Clients Management</h1>
          <p class="text-muted">Complete client database with advanced filtering and management</p>
        </div>

        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">All Clients</h5>
                <div class="d-flex align-items-center gap-3">
                  <span class="text-muted">Show:</span>
                  <select id="clientsPerPage" class="form-select form-select-sm" style="width: auto;">
                    <option value="5" selected>5 clients</option>
                    <option value="10">10 clients</option>
                    <option value="30">30 clients</option>
                    <option value="50">50 clients</option>
                    <option value="100">100 clients</option>
                    <option value="all">All clients</option>
                  </select>
                  <span id="clientsCount" class="badge bg-primary">0 clients</span>
                </div>
              </div>
              <div class="card-body">
                <!-- Search and Filter -->
                <div class="row mb-3 filter-row">
                                  <div class="col-md-2">
                  <div class="search-input">
                    <input type="text" id="searchClients" class="form-control" placeholder="Search clients..." aria-label="Search clients">
                  </div>
                </div>
                  <div class="col-md-2">
                    <select id="filterGender" class="form-select">
                      <option value="">Genders</option>
                      <option value="Male">Male</option>
                      <option value="Female">Female</option>
                      <option value="Other">Other</option>
                    </select>
                  </div>
                  <div class="col-md-2">
                    <select id="filterLocation" class="form-select">
                      <option value="">Locations</option>
                      <!-- Locations will be populated dynamically -->
                    </select>
                  </div>
                  <div class="col-md-2">
                    <select id="filterCategory" class="form-select">
                      <option value="">Visa Types</option>
                      <option value="H1B">H1B</option>
                      <option value="F1">F1</option>
                      <option value="L1">L1</option>
                      <option value="O1">O1</option>
                      <option value="J1">J1</option>
                    </select>
                  </div>
                  <div class="col-md-2">
                    <button id="resetFilters" class="btn btn-outline-secondary w-100" aria-label="Reset all filters">Reset</button>
                  </div>
                  <div class="col-md-2">
                    <button id="dynamicActionBtn" class="btn btn-success w-100" aria-label="Add new client">
                      <i class="fas fa-user-plus me-1"></i>Add Client
                    </button>
                  </div>
                </div>

                <!-- Clients Table -->
                <div class="table-responsive">
                  <table class="table table-striped table-hover">
                    <thead class="table-dark">
                      <tr>
                        <th width="50">
                          <input type="checkbox" id="selectAllCheckbox" class="form-check-input" title="Select all clients">
                        </th>
                        <th class="sortable" data-column="frontend_id" width="60">
                          ID <i class="fas fa-sort sort-icon"></i>
                        </th>
                        <th class="sortable" data-column="name" width="150">
                          NAME <i class="fas fa-sort sort-icon"></i>
                        </th>
                        <th class="sortable" data-column="age" width="60">
                          AGE <i class="fas fa-sort sort-icon"></i>
                        </th>
                        <th width="80">GENDER</th>
                        <th width="120">LOCATION</th>
                        <th width="100">
                          VISA TYPE
                        </th>
                        <th width="100">PHONE</th>
                        <th class="sortable" data-column="arrival_date" width="120">
                          ARRIVAL DATE <i class="fas fa-sort sort-icon"></i>
                        </th>
                        <th width="100">ACTIONS</th>
                      </tr>
                    </thead>
                    <tbody id="allClientsTableBody">
                      <!-- All clients data will be populated here -->
                    </tbody>
                  </table>
                </div>

                <!-- Pagination -->
                <nav id="paginationNav" aria-label="Clients pagination">
                  <ul class="pagination justify-content-center">
                    <!-- Pagination will be generated by JavaScript -->
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </main>

  <!-- Client Details Modal -->
  <div class="modal-overlay" id="clientModal">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalTitle">Client Details</h5>
        <button class="modal-close" id="modalClose">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Client details will be populated here -->
      </div>
      <div class="modal-footer">
        <button class="btn-modal" id="modalOkBtn">Got it</button>
      </div>
    </div>
  </div>

  <!-- Confirmation Modal -->
  <div class="modal-overlay" id="confirmationModal">
    <div class="modal-content confirmation-modal">
      <div class="modal-header confirmation-header">
        <div class="confirmation-icon">
          <i class="fas fa-exclamation-triangle"></i>
        </div>
        <h5 class="modal-title" id="confirmationTitle">Confirm Deletion</h5>
      </div>
      <div class="modal-body confirmation-body">
        <p id="confirmationMessage">Are you sure you want to delete the selected client(s)?</p>
        <div class="confirmation-details">
          <i class="fas fa-info-circle"></i>
          This action cannot be undone.
        </div>
      </div>
      <div class="modal-footer confirmation-footer">
        <button class="btn-modal btn-cancel" id="confirmationCancel">
          <i class="fas fa-times me-2"></i>Cancel
        </button>
        <button class="btn-modal btn-danger" id="confirmationConfirm">
          <i class="fas fa-trash-alt me-2"></i>Delete
        </button>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div class="modal-overlay" id="successModal">
    <div class="modal-content success-modal">
      <div class="modal-header success-header">
        <div class="success-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <h5 class="modal-title" id="successTitle">Success!</h5>
      </div>
      <div class="modal-body success-body">
        <p id="successMessage">Operation completed successfully!</p>
      </div>
      <div class="modal-footer success-footer">
        <button class="btn-modal btn-success" id="successOk">
          <i class="fas fa-check me-2"></i>Got it
        </button>
      </div>
    </div>
  </div>

  <!-- Add Client Modal -->
  <div class="modal-overlay" id="addClientModal">
    <div class="modal-content add-client-modal">
      <div class="modal-header add-client-header">
        <div class="add-client-icon">
          <i class="fas fa-user-plus"></i>
        </div>
        <h5 class="modal-title">Add New Client</h5>
        <button class="modal-close" id="addClientModalClose">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body add-client-body">
        <form id="addClientForm" class="add-client-form">
          <div class="form-row">
            <div class="form-group">
              <label for="clientName"><i class="fas fa-user"></i> Full Name</label>
              <input type="text" id="clientName" name="name" class="form-control" placeholder="Enter client's full name" required>
            </div>
            <div class="form-group">
              <label for="clientAge"><i class="fas fa-birthday-cake"></i> Age</label>
              <input type="number" id="clientAge" name="age" class="form-control" placeholder="Age" min="1" max="120" required>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="clientGender"><i class="fas fa-venus-mars"></i> Gender</label>
              <select id="clientGender" name="gender" class="form-control" required>
                <option value="">Select gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div class="form-group">
              <label for="clientDob"><i class="fas fa-calendar-alt"></i> Date of Birth</label>
              <input type="date" id="clientDob" name="dob" class="form-control">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="clientLocation"><i class="fas fa-map-marker-alt"></i> Location</label>
              <input type="text" id="clientLocation" name="location" class="form-control" placeholder="City, State/Country" required>
            </div>
            <div class="form-group">
              <label for="clientVisaType"><i class="fas fa-passport"></i> Visa Type</label>
              <select id="clientVisaType" name="type" class="form-control" required>
                <option value="">Select visa type</option>
                <option value="H1B">H1B - Specialty Occupation</option>
                <option value="F1">F1 - Student Visa</option>
                <option value="L1">L1 - Intracompany Transfer</option>
                <option value="O1">O1 - Extraordinary Ability</option>
                <option value="J1">J1 - Exchange Visitor</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="clientPhone"><i class="fas fa-phone"></i> Phone Number</label>
              <input type="tel" id="clientPhone" name="phone" class="form-control" placeholder="+1 (555) 123-4567">
            </div>
            <div class="form-group">
              <label for="clientArrivalDate"><i class="fas fa-plane-departure"></i> Myanmar Departure Date</label>
              <input type="date" id="clientArrivalDate" name="arrival_date" class="form-control">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="clientUsArrivalDate"><i class="fas fa-plane-arrival"></i> US Arrival Date</label>
              <input type="date" id="clientUsArrivalDate" name="us_arrival_date" class="form-control">
            </div>
            <div class="form-group">
              <label for="clientVisaExpiry"><i class="fas fa-calendar-times"></i> Visa Expiry Date</label>
              <input type="date" id="clientVisaExpiry" name="visa_expiry_date" class="form-control">
            </div>
          </div>
          

          

          <div class="form-group full-width">
            <label for="clientNote"><i class="fas fa-sticky-note"></i> Notes (Optional)</label>
            <textarea id="clientNote" name="note" class="form-control" rows="3" placeholder="Additional notes about the client..."></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer add-client-footer">
        <button type="button" class="btn-modal btn-cancel" id="addClientCancel">
          <i class="fas fa-times me-2"></i>Cancel
        </button>
        <button type="submit" form="addClientForm" class="btn-modal btn-add-client">
          <i class="fas fa-user-plus me-2"></i>Add Client
        </button>
      </div>
    </div>
  </div>

  <!-- Error Modal -->
  <div class="modal-overlay" id="errorModal">
    <div class="modal-content error-modal">
      <div class="modal-header error-header">
        <div class="error-icon">
          <i class="fas fa-exclamation-circle"></i>
        </div>
        <h5 class="modal-title" id="errorTitle">Error Occurred</h5>
      </div>
      <div class="modal-body error-body">
        <p id="errorMessage">Something went wrong. Please try again.</p>
        <div class="error-details" id="errorDetails" style="display: none;">
          <details>
            <summary>Technical Details</summary>
            <div id="errorDetailsContent"></div>
          </details>
        </div>
      </div>
      <div class="modal-footer error-footer">
        <button class="btn-modal btn-primary" id="errorRetry" style="display: none;">
          <i class="fas fa-redo me-2"></i>Try Again
        </button>
        <button class="btn-modal btn-secondary" id="errorOk">
          <i class="fas fa-times me-2"></i>Close
        </button>
      </div>
    </div>
  </div>

  <!-- Edit Client Modal -->
  <div class="modal-overlay" id="editClientModal">
    <div class="modal-content edit-client-modal">
      <div class="modal-header edit-client-header">
        <div class="edit-client-icon">
          <i class="fas fa-user-edit"></i>
        </div>
        <h5 class="modal-title">Edit Client</h5>
        <button class="modal-close" id="editClientModalClose">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body edit-client-body">
        <form id="editClientForm" class="edit-client-form">
          <input type="hidden" id="editClientId" name="id">
          
          <div class="form-row">
            <div class="form-group">
              <label for="editClientName"><i class="fas fa-user"></i> Full Name</label>
              <input type="text" id="editClientName" name="name" class="form-control" placeholder="Enter client's full name" required>
            </div>
            <div class="form-group">
              <label for="editClientAge"><i class="fas fa-birthday-cake"></i> Age</label>
              <input type="number" id="editClientAge" name="age" class="form-control" placeholder="Age" min="1" max="120" required>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="editClientGender"><i class="fas fa-venus-mars"></i> Gender</label>
              <select id="editClientGender" name="gender" class="form-control" required>
                <option value="">Select gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div class="form-group">
              <label for="editClientDob"><i class="fas fa-calendar-alt"></i> Date of Birth</label>
              <input type="date" id="editClientDob" name="dob" class="form-control">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="editClientLocation"><i class="fas fa-map-marker-alt"></i> Location</label>
              <input type="text" id="editClientLocation" name="location" class="form-control" placeholder="City, State/Country" required>
            </div>
            <div class="form-group">
              <label for="editClientVisaType"><i class="fas fa-passport"></i> Visa Type</label>
              <select id="editClientVisaType" name="type" class="form-control" required>
                <option value="">Select visa type</option>
                <option value="H1B">H1B - Specialty Occupation</option>
                <option value="F1">F1 - Student Visa</option>
                <option value="L1">L1 - Intracompany Transfer</option>
                <option value="O1">O1 - Extraordinary Ability</option>
                <option value="J1">J1 - Exchange Visitor</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="editClientPhone"><i class="fas fa-phone"></i> Phone Number</label>
              <input type="tel" id="editClientPhone" name="phone" class="form-control" placeholder="+1 (555) 123-4567">
            </div>
            <div class="form-group">
              <label for="editClientArrivalDate"><i class="fas fa-plane-departure"></i> Myanmar Departure Date</label>
              <input type="date" id="editClientArrivalDate" name="arrival_date" class="form-control">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="editClientUsArrivalDate"><i class="fas fa-plane-arrival"></i> US Arrival Date</label>
              <input type="date" id="editClientUsArrivalDate" name="us_arrival_date" class="form-control">
            </div>
            <div class="form-group">
              <label for="editClientVisaExpiry"><i class="fas fa-calendar-times"></i> Visa Expiry Date</label>
              <input type="date" id="editClientVisaExpiry" name="visa_expiry_date" class="form-control">
            </div>
          </div>
          

          

          <div class="form-group full-width">
            <label for="editClientNote"><i class="fas fa-sticky-note"></i> Notes (Optional)</label>
            <textarea id="editClientNote" name="note" class="form-control" rows="3" placeholder="Additional notes about the client..."></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer edit-client-footer">
        <button type="button" class="btn-modal btn-cancel" id="editClientCancel">
          <i class="fas fa-times me-2"></i>Cancel
        </button>
        <button type="button" class="btn-modal btn-primary" id="editClientSave">
          <i class="fas fa-save me-2"></i>Edit
        </button>
      </div>
    </div>
  </div>

  <!-- Save Confirmation Modal -->
  <div class="modal-overlay" id="saveConfirmationModal">
    <div class="modal-content save-confirmation-modal">
      <div class="modal-header save-confirmation-header">
        <div class="save-confirmation-icon">
          <i class="fas fa-question-circle"></i>
        </div>
        <h5 class="modal-title">Confirm Save</h5>
      </div>
      <div class="modal-body save-confirmation-body">
        <p>Are you sure you want to save changes to this client?</p>
      </div>
      <div class="modal-footer save-confirmation-footer">
        <button class="btn-modal btn-cancel" id="saveConfirmationCancel">
          <i class="fas fa-times me-2"></i>Cancel
        </button>
        <button class="btn-modal btn-success" id="saveConfirmationOkay">
          <i class="fas fa-check me-2"></i>Okay
        </button>
      </div>
    </div>
  </div>

  <!-- Admin Profile Settings Modal -->
  <div class="modal-overlay" id="profileSettingsModal" role="dialog" aria-labelledby="profileSettingsTitle" aria-describedby="profileSettingsDescription">
    <div class="modal-content profile-settings-modal">
      <div class="modal-header profile-settings-header">
        <div class="profile-settings-icon" aria-hidden="true">
          <i class="fas fa-user-cog"></i>
        </div>
        <h5 class="modal-title" id="profileSettingsTitle">Profile Settings</h5>
        <button class="modal-close" id="profileSettingsModalClose" aria-label="Close profile settings">
          <i class="fas fa-times" aria-hidden="true"></i>
        </button>
      </div>
      <div class="modal-body profile-settings-body">
        <div id="profileSettingsDescription" class="sr-only">
          Form to update your profile information including name and password
        </div>
        <form id="profileSettingsForm" class="profile-settings-form" novalidate>
          
          <!-- Change Name Section -->
          <div class="settings-section">
            <h6 class="section-title">
              <i class="fas fa-user" aria-hidden="true"></i>Admin Name
            </h6>
            <div class="form-group">
              <label for="adminName">Full Name</label>
              <input type="text" 
                     id="adminName" 
                     name="name" 
                     class="form-control" 
                     placeholder="Enter your full name" 
                     required 
                     autocomplete="name"
                     aria-describedby="adminNameHelp">
              <div id="adminNameHelp" class="sr-only">Enter your full name as it should appear in the system</div>
            </div>
          </div>
          
          <!-- Change Password Section -->
          <div class="settings-section">
            <h6 class="section-title">
              <i class="fas fa-key" aria-hidden="true"></i>Change Password
            </h6>
            <div class="form-group">
              <label for="currentPassword">Current Password</label>
              <input type="password" 
                     id="currentPassword" 
                     name="current_password" 
                     class="form-control" 
                     placeholder="Enter current password" 
                     required 
                     autocomplete="current-password"
                     aria-describedby="currentPasswordHelp">
              <div id="currentPasswordHelp" class="sr-only">Enter your current password to verify your identity</div>
            </div>
            <div class="form-group">
              <label for="newPassword">New Password</label>
              <input type="password" 
                     id="newPassword" 
                     name="new_password" 
                     class="form-control" 
                     placeholder="Enter new password" 
                     required 
                     autocomplete="new-password"
                     aria-describedby="newPasswordHelp passwordStrength">
              <div id="newPasswordHelp" class="sr-only">Enter a new password that is at least 6 characters long</div>
              <div class="password-strength" id="passwordStrength" aria-live="polite">
                <div class="password-strength-bar"></div>
              </div>
            </div>
            <div class="form-group">
              <label for="confirmPassword">Confirm New Password</label>
              <input type="password" 
                     id="confirmPassword" 
                     name="confirm_password" 
                     class="form-control" 
                     placeholder="Confirm new password" 
                     required 
                     autocomplete="new-password"
                     aria-describedby="confirmPasswordHelp">
              <div id="confirmPasswordHelp" class="sr-only">Re-enter your new password to confirm it</div>
            </div>
            <div class="password-requirements" role="note" aria-label="Password requirements">
              <small>
                <i class="fas fa-info-circle" aria-hidden="true"></i>
                Password must be at least 6 characters long
              </small>
            </div>
          </div>
          
        </form>
      </div>
      <div class="modal-footer profile-settings-footer">
        <button type="button" class="btn-modal btn-cancel" id="profileSettingsCancel">
          <i class="fas fa-times" aria-hidden="true"></i>Cancel
        </button>
        <button type="button" class="btn-modal btn-primary" id="profileSettingsSave">
          <i class="fas fa-save" aria-hidden="true"></i>Save Changes
        </button>
      </div>
    </div>
  </div>

  <!-- Profile Save Confirmation Modal -->
  <div class="modal-overlay" id="profileSaveConfirmationModal">
    <div class="modal-content save-confirmation-modal">
      <div class="modal-header save-confirmation-header">
        <div class="save-confirmation-icon">
          <i class="fas fa-question-circle"></i>
        </div>
        <h5 class="modal-title">Confirm Profile Changes</h5>
      </div>
      <div class="modal-body save-confirmation-body">
        <p>Are you sure you want to save these profile changes?</p>
        <div class="confirmation-details">
          <i class="fas fa-info-circle"></i>
          You may need to log in again if you change your password.
        </div>
      </div>
      <div class="modal-footer save-confirmation-footer">
        <button class="btn-modal btn-cancel" id="profileSaveConfirmationCancel">
          <i class="fas fa-times me-2"></i>Cancel
        </button>
        <button class="btn-modal btn-success" id="profileSaveConfirmationOkay">
          <i class="fas fa-check me-2"></i>Save Changes
        </button>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Custom JavaScript -->
  <script src="./dashboard.js?v=2.2"></script>
</body>
</html> 